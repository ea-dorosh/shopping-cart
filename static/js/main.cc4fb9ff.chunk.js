(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{12:function(t,e,n){t.exports={inputBox:"Input_inputBox__2aZo1",inputLabel:"Input_inputLabel__37cf6",inputElement:"Input_inputElement__3zybX"}},20:function(t,e,n){t.exports={list:"ProductList_list__1YXjv"}},21:function(t,e,n){t.exports={quantityBtn:"QuantityButton_quantityBtn__2sD9W"}},22:function(t,e,n){t.exports={quantityBtn:"Button_quantityBtn__3gjr-"}},28:function(t,e,n){},37:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n(10),c=n.n(r),i=(n(28),n(7)),s=n.n(i),u=n(3),d=n(9),l=n.n(d),o=n(17),p="FETCH_PRODUCTS_REQUEST",j="FETCH_PRODUCTS_SUCCESS",b="FETCH_PRODUCTS_FAILURE",O=function(){return{type:p,payload:null}},_=function(t){return{type:j,payload:t}},m=function(t){return{type:b,payload:t}},h=function(){return function(){var t=Object(o.a)(l.a.mark((function t(e){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e(O()),t.next=4,fetch("https://my-json-server.typicode.com/ea-dorosh/mockjson/products");case 4:return n=t.sent,t.next=7,n.json();case 7:a=t.sent,e(_(a)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),e(m(t.t0.response.data));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},f=function(t){return function(e,n){var a=n().products.data.filter((function(e){return e.id!==t}));e(_(a))}},x=function(t){return function(e,n){var a=n().products.data.map((function(e){return e.id===t&&e.quantity++,e}));e(_(a))}},y=function(t){return function(e,n){var a=n().products.data.map((function(e){return e.id===t&&e.quantity--,e}));e(_(a))}},v=function(t){return function(){var e=Object(o.a)(l.a.mark((function e(n,a){var r,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a(),c=r.products.data,(i=[]).push(t),c.forEach((function(t){return i.push(t)})),n(_(i));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},N=n(20),q=n.n(N),P=n(4),I=n.n(P),g=n(21),w=n.n(g),T=n(0),E=function(t){var e=t.handler,n=t.quantityType,a=t.disabled;return Object(T.jsxs)("button",{type:"button",className:w.a.quantityBtn,onClick:e,disabled:a,children:[Object(T.jsxs)("span",{className:"visually-hidden",children:[n," product amount"]}),"increase"===n?"+":"-"]})},B=function(t){var e=t.name,n=t.price,a=t.quantity,r=t.id,c=Object(u.b)();return Object(T.jsxs)("li",{className:I.a.card,children:[Object(T.jsx)("div",{className:I.a.imgWrapper}),Object(T.jsxs)("div",{className:I.a.cardWrapper,children:[Object(T.jsx)("h4",{className:I.a.name,children:e}),Object(T.jsxs)("span",{className:I.a.price,children:[n,"$"]}),Object(T.jsxs)("div",{className:I.a.quantityWrapper,children:[Object(T.jsx)(E,{handler:function(){return c(y(r))},quantityType:"decrease",disabled:1===a}),Object(T.jsx)("span",{className:I.a.quantity,children:a}),Object(T.jsx)(E,{handler:function(){return c(x(r))},quantityType:"increase"})]})]}),Object(T.jsx)("button",{onClick:function(){return c(f(r))},className:I.a.deleteBtn,children:Object(T.jsx)("span",{className:"visually-hidden",children:"delete item from cart"})})]})},C=function(t){var e=t.products;return Object(T.jsx)("ul",{className:q.a.list,children:e.map((function(t){return Object(T.jsx)(B,{id:t.id,name:t.name,price:t.price,quantity:t.quantity},t.id)}))})},A=n(8),S=n.n(A),W=function(t){var e=t.products,n=e.reduce((function(t,e){return t+e.quantity}),0),a=e.reduce((function(t,e){return t+e.quantity*e.price}),0),r=a+25;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("h3",{className:S.a.infoTitle,children:"Order Information"}),Object(T.jsx)("table",{className:S.a.table,children:Object(T.jsxs)("tbody",{children:[Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:"Products in the order"}),Object(T.jsxs)("td",{children:[n,"pcs"]})]}),Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:"Products Price"}),Object(T.jsxs)("td",{children:[a,"$"]})]}),Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{className:S.a.lastRow,children:"Shipping"}),Object(T.jsxs)("td",{children:[25,"$"]})]}),Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{className:S.a.total,children:"Total"}),Object(T.jsxs)("td",{className:S.a.total,children:[r,"$"]})]})]})})]})},F=n(11),R=n(2),L=n(18),k=n(6),D=n.n(k),U=n(12),J=n.n(U),M=function(t){var e=t.labelText,n=t.defaultValue,a=t.name,r=t.handler,c=t.pattern;return Object(T.jsxs)("div",{className:J.a.inputBox,children:[Object(T.jsx)("label",{className:J.a.inputLabel,children:e}),Object(T.jsx)("input",{name:a,type:"text",className:J.a.inputElement,value:n,onChange:function(t){return r(t)},pattern:c})]})},$=n(22),Q=n.n($),V=function(t){var e=t.handler,n=t.disabled,a=t.type,r=t.text;return Object(T.jsx)("button",{type:a,className:Q.a.quantityBtn,onClick:e,disabled:n,children:r})},X=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},H=function(){var t=Object(u.b)(),e=Object(a.useState)({id:X(1,100),name:"",price:null,quantity:1}),n=Object(L.a)(e,2),r=n[0],c=n[1],i=Object(a.useState)(!1),s=Object(L.a)(i,2),d=s[0],l=s[1],o=function(t){var e=t.target.value;t.target.validity.valid&&(l(!1),c(Object(R.a)(Object(R.a)({},r),{},Object(F.a)({},t.target.name,e))))};return Object(T.jsxs)("div",{className:D.a.wrapper,children:[Object(T.jsx)("h3",{className:D.a.title,children:"Add New Product"}),Object(T.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==r.name&&r.price?(t(v(r)),c({id:X(1,100),name:"",price:null,quantity:1})):l(!0)},children:[Object(T.jsx)(M,{name:"name",labelText:"Product Name",defaultValue:r.name,handler:o}),Object(T.jsx)(M,{name:"price",labelText:"Product Price",defaultValue:r.price?r.price:"",handler:o,pattern:"^-?[0-9]\\d*\\.?\\d*$"}),Object(T.jsxs)("div",{className:D.a.customInput,children:[Object(T.jsx)("label",{className:D.a.label,htmlFor:"new-quantity",children:"Product Quantity"}),Object(T.jsx)(E,{handler:function(){c(Object(R.a)(Object(R.a)({},r),{},{quantity:r.quantity-1}))},quantityType:"decrease",disabled:1===r.quantity}),Object(T.jsx)("input",{id:"new-quantity",name:"quantity",className:D.a.input,value:r.quantity,readOnly:!0,tabIndex:-1}),Object(T.jsx)(E,{handler:function(){c(Object(R.a)(Object(R.a)({},r),{},{quantity:r.quantity+1}))},quantityType:"increase"})]}),Object(T.jsx)("div",{className:D.a.btnWrapper,children:Object(T.jsx)(V,{text:"Add Product",type:"submit"})})]}),d&&Object(T.jsx)("p",{className:D.a.error,children:"Please fill all fields"})]})},Z=function(){var t=Object(u.c)((function(t){return t.products.data})),e=Object(u.b)();return Object(a.useEffect)((function(){e(h())}),[e]),Object(T.jsxs)("div",{className:s.a.page,children:[Object(T.jsx)("h1",{className:"visually-hidden",children:"Shopping Cart"}),Object(T.jsxs)("div",{className:s.a.wrapper,children:[Object(T.jsxs)("h2",{className:s.a.title,children:["My Cart (",null===t||void 0===t?void 0:t.length,Object(T.jsx)("span",{className:"visually-hidden",children:"pcs in cart"}),")"]}),Object(T.jsxs)("div",{className:s.a.inner,children:[Object(T.jsx)(C,{products:t}),Object(T.jsxs)("div",{children:[Object(T.jsx)(H,{}),Object(T.jsx)("div",{className:s.a.orderInfo,children:Object(T.jsx)(W,{products:t})})]})]})]})]})},Y=n(23),z=n(5),G={data:[],isLoading:!1,error:null},K=Object(z.c)({products:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case p:return Object(R.a)(Object(R.a)({},t),{},{isLoading:!0,error:null});case j:return Object(R.a)(Object(R.a)({},t),{},{data:e.payload,isLoading:!1});case b:return Object(R.a)(Object(R.a)({},t),{},{error:e.payload,isLoading:!1});default:return t}}}),tt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||z.d,et=Object(z.e)(K,tt(Object(z.a)(Y.a)));c.a.render(Object(T.jsx)(u.a,{store:et,children:Object(T.jsx)(Z,{})}),document.getElementById("root"))},4:function(t,e,n){t.exports={card:"ProductItem_card__3W83M",deleteBtn:"ProductItem_deleteBtn__ore-Y",imgWrapper:"ProductItem_imgWrapper__28eTR",cardWrapper:"ProductItem_cardWrapper__30sJy",name:"ProductItem_name__3ZIo8",price:"ProductItem_price__3NRBk",quantityWrapper:"ProductItem_quantityWrapper__2NadC",quantity:"ProductItem_quantity__3ENDR"}},6:function(t,e,n){t.exports={wrapper:"AddProductForm_wrapper__2dcrG",title:"AddProductForm_title__1eofZ",customInput:"AddProductForm_customInput__1fheJ",label:"AddProductForm_label__3qoA1",input:"AddProductForm_input__2_Q0F",btnWrapper:"AddProductForm_btnWrapper__2L3uT",error:"AddProductForm_error__33cBC"}},7:function(t,e,n){t.exports={page:"App_page__JmOBj",wrapper:"App_wrapper__Nh2wq",title:"App_title__2tyww",inner:"App_inner__1MlmD"}},8:function(t,e,n){t.exports={infoTitle:"OrderInfo_infoTitle__yPLL5",table:"OrderInfo_table__194W3",lastRow:"OrderInfo_lastRow__1-pR8",total:"OrderInfo_total__yvmJR"}}},[[37,1,2]]]);
//# sourceMappingURL=main.cc4fb9ff.chunk.js.map